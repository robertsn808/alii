# Alii Fish Market - Render.com Deployment Guide

## Overview
This guide covers deploying the Alii Fish Market UPP prototype to Render.com, integrating with your existing UPP and seller services on realconnect.online.

## üéØ Demo URLs (After Deployment)

### Customer-Facing
- **Main Website**: https://aliifishmarket.realconnect.online
- **Mobile Ordering**: https://aliifishmarket.realconnect.online/menu
- **Order Tracking**: https://aliifishmarket.realconnect.online/orders

### Staff Tools
- **Payment App**: https://aliifishmarket.realconnect.online/staff
- **Quick Orders**: https://aliifishmarket.realconnect.online/staff/quick-orders
- **NFC Payments**: https://aliifishmarket.realconnect.online/staff/nfc

### Business Management
- **Dashboard**: https://aliifishmarket.realconnect.online/admin
- **Live Orders**: https://aliifishmarket.realconnect.online/admin/orders
- **Analytics**: https://aliifishmarket.realconnect.online/admin/analytics
- **Inventory**: https://aliifishmarket.realconnect.online/admin/inventory

### API Endpoints
- **API Base**: https://alii-api.realconnect.online/api
- **Health Check**: https://alii-api.realconnect.online/actuator/health
- **API Docs**: https://alii-api.realconnect.online/api/docs

## üèóÔ∏è Architecture Integration

```
realconnect.online (Your Existing Services)
‚îú‚îÄ‚îÄ upp.realconnect.online (UPP Service)
‚îú‚îÄ‚îÄ realconnect.online (Seller Platform) 
‚îî‚îÄ‚îÄ aliifishmarket.realconnect.online (New: Alii Fish Market)
    ‚îú‚îÄ‚îÄ Frontend (Next.js)
    ‚îú‚îÄ‚îÄ API (Spring Boot)
    ‚îî‚îÄ‚îÄ Database (PostgreSQL)
```

## üìÅ Deployment Files Created

### Core Configuration
- `render.yaml` - Render.com deployment blueprint
- `.env.production` - Production environment variables
- `scripts/deploy-to-render.sh` - Deployment automation script

### Frontend Configuration
- `frontend/next.config.js` - Next.js production optimizations
- `frontend/package.json` - Build scripts and dependencies

### Backend Configuration  
- `backend/src/main/resources/application-production.yml` - Spring Boot production config
- `backend/pom.xml` - Maven build configuration

## üöÄ Deployment Steps

### 1. Pre-Deployment Preparation

```bash
# Run the deployment preparation script
./scripts/deploy-to-render.sh

# This will:
# - Validate all required files
# - Test frontend and backend builds
# - Check environment variables
# - Generate deployment checklist
```

### 2. GitHub Repository Setup

```bash
# Commit all deployment files
git add .
git commit -m "Add Render.com deployment configuration for Alii Fish Market prototype"
git push origin main
```

### 3. Render.com Dashboard Setup

1. **Go to Render Dashboard**: https://dashboard.render.com
2. **Create New Blueprint**:
   - Click "New" ‚Üí "Blueprint"
   - Connect your GitHub repository
   - Select the repository containing `render.yaml`
3. **Review Services**:
   - `alii-frontend` (Web Service)
   - `alii-api` (Web Service) 
   - `alii-database` (PostgreSQL)

### 4. Custom Domain Configuration

In Render dashboard for each service:

#### Frontend Service (`alii-frontend`)
- **Custom Domain**: `aliifishmarket.realconnect.online`
- **SSL**: Automatic (Let's Encrypt)
- **Redirects**: HTTP ‚Üí HTTPS

#### API Service (`alii-api`)  
- **Custom Domain**: `alii-api.realconnect.online`
- **SSL**: Automatic (Let's Encrypt)
- **CORS**: Configured for frontend domain

### 5. Environment Variables Setup

Copy from `.env.production` and set in Render dashboard:

#### Frontend Service Variables
```bash
NODE_ENV=production
NEXT_PUBLIC_SITE_URL=https://aliifishmarket.realconnect.online
NEXT_PUBLIC_API_URL=https://alii-api.realconnect.online
NEXT_PUBLIC_UPP_API_URL=https://upp.realconnect.online
NEXT_PUBLIC_SELLER_API_URL=https://realconnect.online
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_key
DEMO_MODE=true
```

#### API Service Variables
```bash
SPRING_PROFILES_ACTIVE=production
SERVER_PORT=10000
DATABASE_URL=[Auto-generated by Render]
UPP_API_ENDPOINT=https://upp.realconnect.online
UPP_MERCHANT_ID=alii_fish_market_001
UPP_API_KEY=your_upp_api_key
SELLER_API_ENDPOINT=https://realconnect.online
STRIPE_SECRET_KEY=sk_live_your_key
TWILIO_ACCOUNT_SID=your_sid
TWILIO_AUTH_TOKEN=your_token
CORS_ALLOWED_ORIGINS=https://aliifishmarket.realconnect.online,https://realconnect.online,https://upp.realconnect.online
```

## üîß Integration Points

### UPP Service Integration
```yaml
# Configured to connect to your existing UPP service
UPP_API_ENDPOINT: https://upp.realconnect.online
Merchant ID: alii_fish_market_001
Payment Methods: NFC, QR, Voice, Contactless, Manual Entry
```

### Seller Platform Integration
```yaml
# Connects to your existing seller platform
SELLER_API_ENDPOINT: https://realconnect.online
Features: Inventory sync, Order management, Customer data
```

## üóÑÔ∏è Database Setup

### Automatic PostgreSQL Instance
Render automatically provisions:
- **Service**: `alii-database` 
- **Plan**: Free tier (suitable for prototype)
- **Connection**: Auto-injected into API service

### Database Migrations
After deployment, Spring Boot will automatically:
- Create tables based on JPA entities
- Set up initial schema
- Apply any migration scripts

### Sample Data (Demo Mode)
When `DEMO_MODE=true`:
- Loads Alii Fish Market menu items
- Creates sample orders and transactions
- Displays cost comparison with Toast POS

## üìä Cost Analysis for Demo

### Toast POS (Current System)
- **Monthly Cost**: $1,661
- **Annual Cost**: $19,932
- **Transaction Fees**: 2.49% + $0.15 + 3% processing

### Alii UPP System (Prototype)
- **Monthly Cost**: $1,150
- **Annual Cost**: $13,800  
- **Transaction Fees**: 2.5% flat rate

### **Annual Savings: $6,132 (31% cost reduction)**

## üéØ Prototype Demo Features

### For Potential Buyers
1. **Custom Branding**: Own domain vs Toast subdomain
2. **Mobile Staff App**: Any phone becomes payment terminal
3. **Universal Payments**: NFC, QR, voice, contactless all integrated
4. **Real-time Analytics**: Live dashboard with cost savings display
5. **Inventory Management**: Out-of-stock alerts and menu updates
6. **Customer Experience**: Faster checkout, SMS notifications

### Demo Scenarios
1. **Customer Orders**: Browse menu, add to cart, checkout with UPP
2. **Staff Payments**: Process payments via NFC, generate QR codes
3. **Business Analytics**: View real-time sales, cost savings metrics
4. **Inventory Updates**: Mark items out of stock, update availability

## üîç Testing & Validation

### Post-Deployment Checks
```bash
# Health checks
curl https://alii-api.realconnect.online/actuator/health
curl https://aliifishmarket.realconnect.online/api/health

# UPP integration test
curl https://alii-api.realconnect.online/api/payments/methods

# Menu data test  
curl https://alii-api.realconnect.online/api/menu/items
```

### Integration Tests
1. **UPP Payments**: Test connection to upp.realconnect.online
2. **Seller Platform**: Verify inventory sync with realconnect.online  
3. **Database**: Confirm PostgreSQL connection and queries
4. **SMS Notifications**: Test Twilio integration

## üö® Troubleshooting

### Common Issues
1. **Build Failures**:
   - Check Node.js version compatibility
   - Verify Java version (11+ required)
   - Review build logs in Render dashboard

2. **Environment Variables**:
   - Ensure all required vars are set
   - Check for typos in variable names
   - Verify API keys are valid

3. **Domain Issues**:
   - DNS propagation can take 24-48 hours
   - Verify CNAME records point to Render
   - Check SSL certificate status

4. **Database Connection**:
   - Render auto-injects DATABASE_URL
   - Check connection pool settings
   - Review Spring Boot logs

### Support Contacts
- **Render Support**: https://render.com/docs
- **Project Issues**: GitHub Issues
- **Integration Help**: Check UPP/Seller API documentation

## üéâ Go-Live Checklist

### Pre-Launch
- [ ] All builds successful
- [ ] Environment variables configured
- [ ] Custom domains working
- [ ] SSL certificates active
- [ ] Database migrations complete
- [ ] Integration tests passing

### Demo Preparation
- [ ] Sample menu data loaded
- [ ] Demo customer accounts created
- [ ] Staff training materials ready
- [ ] Cost comparison metrics configured
- [ ] Analytics dashboard functional

### Launch Day
- [ ] Monitor application performance
- [ ] Check payment processing
- [ ] Verify SMS notifications
- [ ] Test mobile responsiveness
- [ ] Document any issues

## üìà Success Metrics

### Technical Performance
- **Response Times**: < 200ms for API calls
- **Uptime**: 99.9% availability target
- **Mobile Performance**: Lighthouse score > 90

### Business Metrics
- **Cost Savings**: $6,132 annually vs Toast
- **Transaction Speed**: 3x faster checkout
- **Staff Efficiency**: Mobile payment flexibility
- **Customer Satisfaction**: Own domain and branding

---

## üêü Ready to Deploy!

Your Alii Fish Market prototype is configured and ready for deployment to Render.com. This will create a fully functional Toast POS replacement that integrates seamlessly with your existing UPP and seller services.

**Next Steps:**
1. Run `./scripts/deploy-to-render.sh` for final validation
2. Push to GitHub and deploy via Render Blueprint
3. Configure custom domains and environment variables
4. Test all integrations and prepare demo presentation

The prototype will demonstrate significant cost savings and enhanced functionality compared to Toast POS, making it an attractive option for potential buyers.